# ğŸš¨ Domain Issue Summary - Veloz.com.uy

## ğŸ” Issue Identified

**Problem**: `www.veloz.com.uy` works correctly, but `veloz.com.uy` (apex domain) has SSL certificate issues.

**Root Cause**: The apex domain (`veloz.com.uy`) is not properly configured in Netlify, causing SSL certificate provisioning to fail.

## ğŸ“Š Current Status

### âœ… Working Correctly

- `https://www.veloz.com.uy` - Status: 200 âœ…
- `http://www.veloz.com.uy` - Redirects to HTTPS âœ…
- `http://veloz.com.uy` - Redirects to HTTPS âœ…

### âŒ Not Working

- `https://veloz.com.uy` - SSL Certificate Error (TLS internal error) âŒ

## ğŸ”§ Solution Steps

### 1. Immediate Action Required

**Add the apex domain to Netlify:**

1. Go to [Netlify Dashboard](https://app.netlify.com)
2. Navigate to your site settings
3. Go to **Domain Management**
4. Click **Add custom domain**
5. Add `veloz.com.uy` (without www)
6. Click **Verify** to check DNS configuration

### 2. DNS Configuration (Already Correct)

The DNS is properly configured:

```bash
# Apex domain points to Netlify
dig veloz.com.uy A
# Returns: 99.83.190.102, 75.2.60.5 âœ…

# WWW subdomain points to Netlify
dig www.veloz.com.uy CNAME
# Returns: perros-y-liebres.netlify.app âœ…
```

### 3. Netlify Configuration (Updated)

The `netlify.toml` file has been updated with proper redirect rules:

```toml
# Redirect non-www to www for SEO and consistency
[[redirects]]
  from = "https://veloz.com.uy/*"
  to = "https://www.veloz.com.uy/:splat"
  status = 301
  force = true

# Redirect HTTP to HTTPS
[[redirects]]
  from = "http://veloz.com.uy/*"
  to = "https://www.veloz.com.uy/:splat"
  status = 301
  force = true

[[redirects]]
  from = "http://www.veloz.com.uy/*"
  to = "https://www.veloz.com.uy/:splat"
  status = 301
  force = true
```

### 4. SSL Certificate Provisioning

After adding the domain to Netlify:

1. **Wait 24-48 hours** for automatic SSL certificate provisioning
2. Monitor the **HTTPS** status in Netlify domain settings
3. The certificate will be automatically generated by Let's Encrypt

### 5. Expected Results After Fix

Once the SSL certificate is provisioned:

```
âœ… https://www.veloz.com.uy/ - Status: 200 (direct access)
âœ… https://veloz.com.uy/ - Status: 301 (redirects to www)
âœ… http://www.veloz.com.uy/ - Status: 301 (redirects to https)
âœ… http://veloz.com.uy/ - Status: 301 (redirects to https)
```

## ğŸ§ª Testing Tools

### Domain Test Script

```bash
node scripts/test-domain-config.js
```

### SSL Diagnostics Script

```bash
node scripts/fix-domain-ssl.js
```

## ğŸ“‹ Action Items

### For You (Immediate)

1. **Add `veloz.com.uy` as custom domain in Netlify** âš¡
2. **Wait 24-48 hours for SSL certificate**
3. **Test both domains after certificate is provisioned**

### Already Done

- âœ… DNS configuration verified
- âœ… Redirect rules added to `netlify.toml`
- âœ… Testing scripts created
- âœ… Documentation updated

## ğŸ¯ SEO Strategy

The site will use `www.veloz.com.uy` as the canonical domain:

- All internal links use `www.veloz.com.uy`
- Search engines will index `www.veloz.com.uy`
- Non-www URLs redirect to www for consistency
- This is the recommended approach for SEO

## ğŸ”„ Deployment

After adding the domain to Netlify:

1. **Push the updated `netlify.toml`**:

   ```bash
   git add netlify.toml
   git commit -m "Add domain redirect rules for apex domain"
   git push
   ```

2. **Monitor deployment** in Netlify dashboard
3. **Test domains** after deployment completes

## ğŸ“ Support

If issues persist after 48 hours:

1. Check Netlify domain settings
2. Verify DNS propagation with different DNS servers
3. Contact Netlify support if SSL certificate doesn't provision

---

**Status**: Ready for action  
**Priority**: High  
**Estimated Resolution Time**: 24-48 hours after domain addition
